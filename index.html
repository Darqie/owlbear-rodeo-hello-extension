<!DOCTYPE html>
<html>
<head>
    <title>Darqie Character Sheet</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #1a1a1a;
            color: #f0f0f0;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            height: 100vh;
            overflow: hidden; /* Щоб основний скрол був лише на контенті */
        }

        #app-header {
            background-color: #2a2a2a;
            padding: 10px;
            text-align: center;
            border-bottom: 1px solid #3a3a3a;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            position: relative;
            z-index: 100;
        }

        #app-header h1 {
            margin: 0;
            font-size: 1.4em;
            color: #e0e0e0;
        }

        #main-content {
            display: flex;
            flex-direction: column;
            flex-grow: 1;
            overflow: hidden; /* Важливо для внутрішнього скролінгу */
        }

        #characterTabs {
            display: flex;
            flex-wrap: wrap;
            background-color: #333;
            padding: 5px 0;
            border-bottom: 1px solid #444;
            overflow-x: auto; /* Дозволяє горизонтальний скролінг вкладок */
            flex-shrink: 0; /* Забороняє вкладкам стискатися */
        }

        .character-tab {
            background-color: #444;
            color: #bbb;
            padding: 8px 12px;
            margin: 0 2px;
            border-radius: 5px 5px 0 0;
            cursor: pointer;
            transition: background-color 0.2s ease, color 0.2s ease;
            white-space: nowrap; /* Запобігає переносу тексту */
            display: flex;
            align-items: center;
        }

        .character-tab:hover {
            background-color: #555;
        }

        .character-tab.active {
            background-color: #007bff;
            color: #fff;
            font-weight: bold;
        }

        /* CSS для видалення хрестика видалено */

        #characterSheetContainer {
            padding: 15px;
            overflow-y: auto; /* Дозволяє вертикальний скролінг для вмісту листа */
            flex-grow: 1; /* Дозволяє контейнеру займати весь доступний простір */
            display: flex;
            flex-direction: column;
            gap: 15px; /* Проміжок між основними секціями */
        }

        .sheet-section {
            background-color: #2a2a2a;
            border: 1px solid #3a3a3a;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(5px); /* Ефект розмиття */
            -webkit-backdrop-filter: blur(5px); /* Для сумісності з Safari */
        }

        h2 {
            color: #007bff;
            margin-top: 0;
            margin-bottom: 15px;
            border-bottom: 2px solid #007bff;
            padding-bottom: 5px;
        }

        .form-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px 20px; /* Вертикальний та горизонтальний проміжок */
        }

        .form-grid.abilities {
            grid-template-columns: repeat(3, 1fr); /* 3 колонки для здібностей */
            text-align: center;
        }

        .form-group, .header-item {
            display: flex;
            flex-direction: column;
        }

        label {
            margin-bottom: 5px;
            font-weight: bold;
            color: #ccc;
            font-size: 0.9em;
        }

        input[type="text"],
        input[type="number"],
        select {
            background-color: #333;
            border: 1px solid #555;
            border-radius: 4px;
            padding: 8px 10px;
            color: #f0f0f0;
            font-size: 1em;
            width: calc(100% - 22px); /* З урахуванням padding та border */
        }

        input[type="text"]:focus,
        input[type="number"]:focus,
        select:focus {
            outline: none;
            border-color: #007bff;
            box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.5);
        }

        /* Заголовок листа */
        /* Змінено, щоб розмістити характеристики всередині */
        .sheet-header {
            display: grid;
            grid-template-columns: 2fr 1fr; /* Більше місця для імені, менше для фото */
            gap: 15px;
            align-items: start;
            /* Додаємо flex, щоб вміст всередині мав стовпчиковий напрямок */
            flex-direction: column; /* Змінюємо напрямок на стовпчик */
            gap: 15px; /* Забезпечуємо проміжок між підблоками */
        }
        /* Внутрішній сітковий макет для main-info і photo-section */
        .header-top-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 15px;
        }

        .header-main-info {
            display: grid;
            grid-template-columns: 1fr 1fr; /* для полів імені, класу, тощо */
            gap: 10px 15px;
        }

        .character-photo-upload {
            width: 100%; /* Збільшуємо до ширини контейнера */
            aspect-ratio: 16 / 9; /* Встановлюємо пропорційне співвідношення сторін (ширина до висоти) */
            background-color: rgba(255, 255, 255, 0.05);
            border: 1px dashed rgba(255, 255, 255, 0.3);
            border-radius: 5px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            margin-top: 10px;
            flex-grow: 0;
        }

        .character-photo-upload i {
            font-size: 3em;
            color: rgba(255, 255, 255, 0.4);
            position: absolute; /* Щоб плюс був по центру */
            pointer-events: none; /* Щоб клік проходив крізь іконку */
        }

        .character-photo-preview {
            width: 100%;
            height: 100%;
            object-fit: cover; /* Зображення буде покривати весь простір, обрізаючи зайве */
            border-radius: 5px;
            display: none; /* За замовчуванням приховано */
        }

        /* Кнопка налаштувань фото (шестерня) */
        .photo-settings {
            position: absolute;
            top: 5px;
            right: 5px;
            background-color: rgba(0, 0, 0, 0.6);
            border: none;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            color: #fff;
            font-size: 1.2em;
            z-index: 2; /* Щоб була над фото */
            display: none; /* Приховано за замовчуванням */
        }

        .photo-settings:hover {
            background-color: rgba(0, 0, 0, 0.8);
        }

        .dropdown-content {
            display: none;
            position: absolute;
            background-color: #333;
            min-width: 120px;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.4);
            z-index: 1;
            right: 0;
            top: 35px; /* Розташовуємо під кнопкою */
            border-radius: 5px;
            overflow: hidden; /* Для округлих країв */
        }

        .dropdown-content button {
            color: #f0f0f0;
            padding: 10px 12px;
            text-decoration: none;
            display: block;
            background: none;
            border: none;
            width: 100%;
            text-align: left;
            cursor: pointer;
            font-size: 0.9em;
        }

        .dropdown-content button:hover {
            background-color: #007bff;
        }


        .ability {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .ability .score-input {
            width: 60px;
            text-align: center;
            margin-bottom: 5px;
        }

        .ability .modifier {
            font-weight: bold;
            color: #007bff;
        }

        /* Кнопки керування листами */
        .sheet-controls {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            padding: 10px;
            background-color: #2a2a2a;
            border-top: 1px solid #3a3a3a;
            flex-shrink: 0; /* Забороняє кнопкам стискатися */
        }

        .sheet-controls button {
            background-color: #007bff;
            color: #fff;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            transition: background-color 0.2s ease;
        }

        .sheet-controls button:hover {
            background-color: #0056b3;
        }

        .sheet-controls button.delete-btn {
            background-color: #dc3545;
        }

        .sheet-controls button.delete-btn:hover {
            background-color: #c82333;
        }
    </style>
</head>
<body>
    <div id="app-header">
        <h1>Darqie Character Sheet</h1>
    </div>

    <div id="main-content">
        <div id="characterTabs">
            </div>

        <div id="characterSheetContainer">
            <div class="sheet-section">
                <div class="header-top-grid"> <div class="header-main-info">
                        <div class="form-group">
                            <label for="characterName">Ім'я персонажа</label>
                            <input type="text" id="characterName" placeholder="Введіть ім'я">
                        </div>
                        <div class="form-group">
                            <label for="characterClassLevel">Клас та Рівень</label>
                            <input type="text" id="characterClassLevel" placeholder="Воїн 3">
                        </div>
                        <div class="form-group">
                            <label for="background">Передісторія</label>
                            <input type="text" id="background" placeholder="Солдат">
                        </div>
                        <div class="form-group">
                            <label for="playerName">Ім'я гравця</label>
                            <input type="text" id="playerName" placeholder="Ваше ім'я">
                        </div>
                        <div class="header-item">
                            <label for="characterRace">Раса</label>
                            <select id="characterRace">
                                <option value="">Оберіть расу</option>
                                <option value="human">Людина</option>
                                <option value="elf">Ельф</option>
                                <option value="dwarf">Гном</option>
                                <option value="halfling">Гафлінг</option>
                                <option value="dragonborn">Драконороджений</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="alignment">Світогляд</label>
                            <input type="text" id="alignment" placeholder="Законно-Добрий">
                        </div>
                        <div class="form-group">
                            <label for="experiencePoints">Досвід</label>
                            <input type="number" id="experiencePoints" value="0">
                        </div>
                    </div>

                    <div class="photo-section">
                        <div id="characterPhotoUpload" class="character-photo-upload">
                            <img id="characterPhotoPreview" class="character-photo-preview" src="" alt="Character Photo">
                            <i class="fas fa-plus"></i>
                            <button id="photoSettingsButton" class="photo-settings">
                                <i class="fas fa-cog"></i>
                                <div class="dropdown-content">
                                    <button id="replacePhotoButton">Замінити фото</button>
                                    <button id="removePhotoButton">Видалити фото</button>
                                </div>
                            </button>
                        </div>
                    </div>
                </div>

                <h2>Характеристики</h2>
                <div class="form-grid abilities">
                    <div class="ability">
                        <label for="strengthScore">Сила</label>
                        <input type="number" id="strengthScore" class="score-input" value="10">
                        <div class="modifier">(+0)</div>
                    </div>
                    <div class="ability">
                        <label for="dexterityScore">Спритність</label>
                        <input type="number" id="dexterityScore" class="score-input" value="10">
                        <div class="modifier">(+0)</div>
                    </div>
                    <div class="ability">
                        <label for="constitutionScore">Статура</label>
                        <input type="number" id="constitutionScore" class="score-input" value="10">
                        <div class="modifier">(+0)</div>
                    </div>
                    <div class="ability">
                        <label for="intelligenceScore">Інтелект</label>
                        <input type="number" id="intelligenceScore" class="score-input" value="10">
                        <div class="modifier">(+0)</div>
                    </div>
                    <div class="ability">
                        <label for="wisdomScore">Мудрість</label>
                        <input type="number" id="wisdomScore" class="score-input" value="10">
                        <div class="modifier">(+0)</div>
                    </div>
                    <div class="ability">
                        <label for="charismaScore">Харизма</label>
                        <input type="number" id="charismaScore" class="score-input" value="10">
                        <div class="modifier">(+0)</div>
                    </div>
                </div>
            </div>

            <div class="sheet-section">
                <h2>Здоров'я</h2>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="maxHp">Макс. ХП</label>
                        <input type="number" id="maxHp" value="10">
                    </div>
                    <div class="form-group">
                        <label for="currentHp">Поточні ХП</label>
                        <input type="number" id="currentHp" value="10">
                    </div>
                    <div class="form-group">
                        <label for="tempHp">Тимчасові ХП</label>
                        <input type="number" id="tempHp" value="0">
                    </div>
                </div>
            </div>

            <div class="sheet-section">
                <h2>Кидки Рятунку</h2>
                <p>Тут будуть поля для кидків рятунку.</p>
            </div>
            <div class="sheet-section">
                <h2>Навички</h2>
                <p>Тут будуть поля для навичок.</p>
            </div>
            <div class="sheet-section">
                <h2>Зброя та Атаки</h2>
                <p>Тут будуть поля для зброї та атак.</p>
            </div>
            <div class="sheet-section">
                <h2>Спорядження</h2>
                <p>Тут будуть поля для спорядження.</p>
            </div>
            <div class="sheet-section">
                <h2>Особливості та Риси</h2>
                <p>Тут будуть поля для особливостей та рис.</p>
            </div>
            <div class="sheet-section">
                <h2>Нотатки</h2>
                <textarea style="width: calc(100% - 22px); height: 100px; background-color: #333; border: 1px solid #555; border-radius: 4px; padding: 8px 10px; color: #f0f0f0; font-size: 1em;" placeholder="Додайте ваші нотатки..."></textarea>
            </div>

        </div>
    </div>

    <div class="sheet-controls">
        <button id="addCharacterButton"><i class="fas fa-plus"></i> Додати лист</button>
        <button id="deleteCharacterButton" class="delete-btn"><i class="fas fa-minus"></i> Видалити активний лист</button>
    </div>

    <script src="main.js"></script>
</body>
</html>
